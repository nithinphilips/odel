<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Odel by nithinphilips</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/nithinphilips/odel">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/nithinphilips/odel/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/nithinphilips/odel/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Odel</h1>
          <p>Tool to upload documents to Tririga from command-line</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/nithinphilips">nithinphilips</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a id="odel" class="anchor" href="#odel" aria-hidden="true"><span class="octicon octicon-link"></span></a>Odel</h1>

<p>Odel uploads Data Integrator files to Tririga from the command-line. You can
import the files quickly and easily with Odel. It can also be called from
script as part of a batch process.</p>

<p>An installer is available for Windows. Download it from the <a href="https://github.com/nithinphilips/odel/releases">Releases</a> section.  Once installed,
you will have the <code>odel</code> command available in your Command Prompt.</p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>If you have Python installed, download the source and install Odel and its
dependencies::</p>

<pre><code>python setup.py install
</code></pre>

<p>Once installed, odel can be invoked using the <code>odel</code> command::</p>

<pre><code>odel --help
</code></pre>

<p>We will be working with a file called <code>users.txt</code> (the fields are TAB delimited)::</p>

<pre><code>$ cat users.txt
triFirstNameTX  triLastNameTX   triUserNameTX
Homer   Simpson hsimpson
Bender  Rodriguez       brodriguez
</code></pre>

<p>To upload <code>users.txt</code> to Tririga running on <code>localhost</code>, you can run::</p>

<pre><code>odel --username=system --password=admin --module=triPeople \
     --businessobject=triPeople --form=triEmployee \
     http://localhost:9080/ users.txt
</code></pre>

<p>You can save some typing if you name you DI files to include the module,
business object and form names. For example, if you rename <code>users.txt</code>
to <code>triPeople-triPeople-triEmployee.txt</code>, you can run::</p>

<pre><code>odel --username=system --password=admin \
     http://localhost:9080/ triPeople-triPeople-triEmployee.txt
</code></pre>

<p>Odel will parse the file name to get the type information. See <code>File Naming
Conventions</code>_ below for more details.</p>

<p>The url portion may be shortened to just the server name::</p>

<pre><code>odel --username=system --password=admin \
     localhost:9080 triPeople-triPeople-triEmployee.txt
</code></pre>

<p>The port can be removed as well. 9080 will be used as the deafult. See <code>URL
Naming Conventions</code>_ below for more.</p>

<p>The username and password default to <code>system</code> and <code>admin</code>, so those can
also be omitted (also now is a good time to change that password!)::</p>

<pre><code>odel localhost triPeople-triPeople-triEmployee.txt
</code></pre>

<h2>
<a id="file-naming-conventions" class="anchor" href="#file-naming-conventions" aria-hidden="true"><span class="octicon octicon-link"></span></a>File Naming Conventions</h2>

<p>If you name your DI files appropriately, Odel can detect the type information
required to upload the file to TRIRIGA. It is also a good practice to name your
DI files consistently.</p>

<p>Odel parses the file name like this:</p>

<p>1) Split the filename into parts, where each part is separated by a "-"
2) Take the last three parts, assume they are Module, Business Object and Form
   names, in that order.</p>

<p>So, you can have additional information in the file name, as long as the information
Odel is looking for is at the very end.</p>

<p>These are examples of files names for Employee Data. Odel parses all these as
Module = triPeople, Business Object = triPeople, Form = triEmployee</p>

<p>Simple:
 <code>triPeople-triPeople-triEmployee.txt</code>
With spaces around the <code>-</code>:
 <code>triPeople - triPeople - triEmployee.txt</code>
With a prefix:
 <code>IterationA - triPeople-triPeople-triEmployee.txt</code>
With two prefixes:
 <code>001 - IterationA - triPeople-triPeople-triEmployee.txt</code></p>

<p>If the regular parsing of three part file name fails, Odel will try a keyword
search to guess the type of the file. Only a single keyword is currently
searched. Keyword search is NOT case sensitive.</p>

<p>Patch Helpers:
 Searched for the word <code>patchhelper</code>. For example,
 <code>PatchHelper_UpgradeApplication.txt</code> will parse to Module = triHelper,
 Business Object = triPatchHelper, Form = triPatchHelper.</p>

<p>Tririga has a limitation of 50 characters for all Data Integrator file names.
If the file name has more than 50 characters, Odel will truncate the file name
to fit the limits.</p>

<h2>
<a id="url-naming-conventions" class="anchor" href="#url-naming-conventions" aria-hidden="true"><span class="octicon octicon-link"></span></a>URL Naming Conventions</h2>

<p>Odel is fairly flexible in handling URL values. Here's what you can enter:</p>

<p>Scheme, host and port:
 <code>http://tririga.example.com:9080/</code>
Host and port:
 <code>tririga.example.com:9080</code>. This resolves to
 <code>http://tririga.example.com:9080/</code>
Host only:
 <code>tririga.example.com</code>. This resolves to 
 <code>http://tririga.example.com:9080/</code>.</p>

<p>Odel uses port 9080 as the default. This is the default WebSphere application
virtual host port.</p>

<p>There are two special cases. If you enter <code>tririga.example.com:443</code>, it
resolves to <code>https://tririga.example.com/</code>. Note the HTTPS scheme. If you
enter <code>tririga.example.com:80</code>, Odel resolves this to
<code>http://tririga.example.com/</code>. This is plain HTTP and the port is omitted.</p>

<h2>
<a id="waiting-for-processing" class="anchor" href="#waiting-for-processing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Waiting for Processing</h2>

<p>Normally Odel will terminate as soon as the file is transmitted to Tririga.  It
will take Tririga a few minutes to process the file and create the records.
Often, when running as part of a batch process you will want to wait until the
file is processed before performing the next task.</p>

<p>If the <code>-w</code> flag is set, Odel will wait until Tririga changes the data upload
status to <em>Rollup All Completed</em> or <em>Failed</em>, indicating the completion of the
upload process.</p>

<p>This only waits for creation of records. Tririga may still continue to process
<em>Associate</em> and other asynchronous tasks in the background.</p>

<h2>
<a id="building-windows-installer" class="anchor" href="#building-windows-installer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building Windows Installer</h2>

<p>Windows installer can be built on Windows machines. You will need Python 2.7 (Windows version)
and the <code>pyinstaller</code> package (version 2.0).</p>

<ol>
<li>
<p>From the project root run::</p>

<p>make</p>

<p>This will build the binaries.</p>
</li>
<li>
<p>Change directory to the <code>windows</code> folder and run make again::</p>

<p>cd windows/
make</p>

<p>This will build the <code>.msi</code> installer.</p>
</li>
</ol>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<pre><code>Odel. Tool to upload Data Integrator files to IBM Tririga.
Copyright (C) 2014 Nithin Philips

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
</code></pre>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>